{"ast":null,"code":"import _slicedToArray from\"C:/Users/Windows.10/Desktop/ReactJs/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useState,useContext,useEffect}from'react';import RatingSelect from\"./RatingSelect\";import FeedbackContext from\"../context/FeedbackContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function FeedbackForm(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),text=_useState2[0],setText=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),btnDisabled=_useState4[0],setBtnDisabled=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),message=_useState6[0],setMessage=_useState6[1];var _useState7=useState(10),_useState8=_slicedToArray(_useState7,2),rating=_useState8[0],setRating=_useState8[1];var _useContext=useContext(FeedbackContext),addFeedback=_useContext.addFeedback,feedbackEdit=_useContext.feedbackEdit,updateFeedback=_useContext.updateFeedback;useEffect(function(){if(feedbackEdit.edit===true){setBtnDisabled(false);setText(feedbackEdit.item.text);setRating(feedbackEdit.item.rating);}},[feedbackEdit]);var handleTextChange=function handleTextChange(e){if(text===\"\"){setBtnDisabled(true);setMessage(null);}else if(text!==\"\"&&text.trim().length<=10){setBtnDisabled(true);setMessage(\" Text must be  at least 10 characters\");}else{setBtnDisabled(false);setMessage(null);}setText(e.target.value);};var handleSubmit=function handleSubmit(e){e.preventDefault();if(text.trim().length>10){var newFeedback={text:text,rating:rating};if(feedbackEdit.edit===true){updateFeedback(feedbackEdit.item.id,newFeedback);}else{addFeedback(newFeedback);}setText(\"\");}};return/*#__PURE__*/_jsx(\"div\",{className:\" container-fluid card\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(RatingSelect,{select:function select(rating){return setRating(rating);}}),/*#__PURE__*/_jsx(\"h3\",{children:\"How would you rate your service with us?\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:handleTextChange,type:\"text\",placeholder:\"write a review\",value:text}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",type:\"submit\",disabled:btnDisabled,style:{backgroundColor:\"pink\"},children:\"send\"})]}),message&&/*#__PURE__*/_jsx(\"div\",{children:message})]})});}export default FeedbackForm;","map":{"version":3,"names":["React","useState","useContext","useEffect","RatingSelect","FeedbackContext","FeedbackForm","text","setText","btnDisabled","setBtnDisabled","message","setMessage","rating","setRating","addFeedback","feedbackEdit","updateFeedback","edit","item","handleTextChange","e","trim","length","target","value","handleSubmit","preventDefault","newFeedback","id","backgroundColor"],"sources":["C:/Users/Windows.10/Desktop/ReactJs/my-app/src/components/FeedbackForm.js"],"sourcesContent":["import React from \"react\";\r\nimport {useState,useContext,useEffect} from 'react'\r\nimport RatingSelect from \"./RatingSelect\";\r\nimport FeedbackContext from \"../context/FeedbackContext\";\r\n\r\nfunction FeedbackForm(){\r\n    const [text,setText]=useState('')\r\n    const [btnDisabled,setBtnDisabled]=useState(true)\r\n    const [message,setMessage]=useState('')\r\n    const [rating,setRating]=useState(10)\r\n    const{addFeedback,feedbackEdit,updateFeedback}=useContext(FeedbackContext)\r\n\r\n    useEffect(()=>{\r\nif(feedbackEdit.edit===true){\r\n    setBtnDisabled(false)\r\n    setText(feedbackEdit.item.text)\r\n    setRating(feedbackEdit.item.rating)\r\n}\r\n    },[feedbackEdit])\r\n\r\n    const handleTextChange=(e)=>{\r\n        if(text===\"\"){\r\n           setBtnDisabled(true)\r\n            setMessage(null)\r\n        }\r\n\r\n        else if(text !==\"\" && text.trim().length <= 10){\r\n            setBtnDisabled(true)\r\n            setMessage(\" Text must be  at least 10 characters\")\r\n        }\r\n\r\n        else{\r\n            setBtnDisabled(false)\r\n            setMessage(null)\r\n        }\r\n\r\n        setText(e.target.value)\r\n    }\r\n\r\n    const handleSubmit=(e)=>{\r\n        e.preventDefault()\r\n        if(text.trim().length>10){\r\n            const newFeedback={\r\n                text,\r\n                rating\r\n            }\r\n            if(feedbackEdit.edit===true){\r\n                updateFeedback(feedbackEdit.item.id,newFeedback)\r\n            }\r\n            else{\r\n            addFeedback(newFeedback)\r\n            }\r\n            setText(\"\")\r\n\r\n        }\r\n\r\n    }\r\n\r\n    return(\r\n        \r\n        <div className=\" container-fluid card\">\r\n            <form onSubmit={handleSubmit}>\r\n                <RatingSelect select={(rating)=>setRating(rating)}/>\r\n                <h3>How would you rate your service with us?</h3>\r\n                <div className=\"input-group\">\r\n                <input onChange={handleTextChange} type='text' placeholder=\"write a review\" value={text}/>\r\n                <button className=\"btn\" type=\"submit\" disabled={btnDisabled}\r\n                 style={{backgroundColor:\"pink\"}}>send</button>\r\n                </div>\r\n                {message && <div>{message}</div> }\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\nexport default FeedbackForm"],"mappings":"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"},"metadata":{},"sourceType":"module"}